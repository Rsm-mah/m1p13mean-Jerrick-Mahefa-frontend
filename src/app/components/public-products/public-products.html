<app-navbar></app-navbar>

<div class="page-wrapper">

  <!-- HERO BANNER -->
  <section class="hero">
    <div class="hero-bg">
      <div class="hero-gradient"></div>
      <div class="hero-pattern"></div>
    </div>

    <div class="hero-content">

      <h1 class="hero-title animate-fade-up-1">
        Tout ce dont vous avez besoin,<br><em>au même endroit</em>
      </h1>

      <p class="hero-sub animate-fade-up-2">
        Mode, smartphones, électroménager et bien plus encore. Découvrez des produits sélectionnés pour leur qualité et leur performance.
      </p>
    </div>
  </section>

  <!-- FILTERS -->
  <section class="filters-section">
    <div class="container">
      <div class="filters-bar">
        <div class="filters-left">
          <!-- <span class="results-count">48 produits</span> -->

          <div class="filter-tabs">
            <button 
              class="filter-tab"
              [class.active]="selectedCategory === 'all'"
              (click)="filterByCategory('all')">
              Tous
            </button>

            <button 
              class="filter-tab"
              *ngFor="let cat of categories"
              [class.active]="selectedCategory === cat._id"
              (click)="filterByCategory(cat._id)">
              
              {{ cat.name }}
            </button>
          </div>

        </div>
        <div class="filters-right">
          <div class="search-input-wrap">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
              <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
            </svg>
            <input class="search-input" placeholder="Rechercher un produit…">
          </div>
          <select class="sort-select">
            <option>Trier : Pertinence</option>
            <option>Prix croissant</option>
            <option>Prix décroissant</option>
            <option>Nouveautés</option>
          </select>
        </div>
      </div>
    </div>
  </section>

  <!-- PRODUCTS GRID -->
  <section class="products-section">
    <div class="container">
      <div class="products-grid">

        <!-- Card 1 — featured -->
        <div class="product-card" *ngFor="let product of products">
          <div class="card-image-wrap">
            <div class="card-image" style="background: linear-gradient(135deg,#d0e8d8 0%,#b0d4bc 100%)">
              <img [src]="getFirstImage(product)" [alt]="product.name" loading="lazy">
            </div>
            <div class="card-overlay">
              <button 
                class="quick-view-btn"
                [routerLink]="['/products-detail', product._id]">
                Aperçu rapide
              </button>
            </div>
            <div class="card-badges" *ngIf="getBadge(product)">
              <span class="badge badge-gold">{{ getBadge(product) }}</span>
            </div>
            <!-- <button class="wishlist-btn"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg></button> -->
          </div>
          <div class="card-info">
            <span class="card-category">{{ product.categoryId?.name }}</span>
            <h3 class="card-name">{{ product.name }}</h3>
            <div class="card-footer">
              <div class="card-price"><span class="price-current">{{ getFirstPrice(product) | currency:'Ar ':'symbol':'1.0-0' }}</span></div>
              <div class="card-rating"><span class="stars">★★★★☆</span><span class="rating-count">(29)</span></div>
            </div>
          </div>
        </div>

      </div>

      <!-- PAGINATION -->
      <div class="pagination">
        <button class="page-btn" (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 1">‹</button>

        <span class="page-info">Page {{ currentPage }} / {{ totalPages }}</span>

        <button class="page-btn" (click)="goToPage(currentPage + 1)" [disabled]="currentPage === totalPages">›</button>
      </div>

    </div>
  </section>


</div>
 
<app-footer></app-footer>